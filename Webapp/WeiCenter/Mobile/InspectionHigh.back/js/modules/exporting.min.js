/*
 Highcharts JS v4.2.3 (2016-02-08)
 Exporting module

 (c) 2010-2016 Torstein Honsi

 License: www.highcharts.com/license
*/(function(f){"object"===typeof module&&module.exports?module.exports=f:f(Highcharts)})(function(f){var v=f.win,n=v.document,E=f.Chart,x=f.addEvent,F=f.removeEvent,G=f.fireEvent,q=f.createElement,w=f.discardElement,z=f.css,p=f.merge,k=f.each,u=f.extend,I=f.splat,J=Math.max,K=f.isTouchDevice,L=f.Renderer.prototype.symbols,C=f.getOptions(),D;u(C.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});C.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:K?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}};C.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};f.post=function(a,b,e){var c;a=q("form",p({method:"post",action:a,enctype:"multipart/form-data"},e),{display:"none"},n.body);for(c in b)q("input",{type:"hidden",name:c,value:b[c]},null,a);a.submit();w(a)};u(E.prototype,{sanitizeSVG:function(a){return a.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'\x3csvg xmlns:xlink\x3d"http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href\x3d").replace(/\n/," ").replace(/<\/svg>.*?$/,"\x3c/svg\x3e").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1\x3d"rgb($2)" $1-opacity\x3d"$3"').replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad").replace(/<IMG /g,"\x3cimage ").replace(/<(\/?)TITLE>/g,"\x3c$1title\x3e").replace(/height=([^" ]+)/g,'height\x3d"$1"').replace(/width=([^" ]+)/g,'width\x3d"$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href\x3d"$1"/\x3e').replace(/ id=([^" >]+)/g,' id\x3d"$1"').replace(/class=([^" >]+)/g,'class\x3d"$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(b){return b.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(a){var b=this,e,c,g,l,m,d=p(b.options,a),M=d.exporting.allowHTML;n.createElementNS||(n.createElementNS=function(b,a){return n.createElement(a)});c=q("div",null,{position:"absolute",top:"-9999em",width:b.chartWidth+"px",height:b.chartHeight+"px"},n.body);g=b.renderTo.style.width;m=b.renderTo.style.height;g=d.exporting.sourceWidth||d.chart.width||/px$/.test(g)&&parseInt(g,10)||600;m=d.exporting.sourceHeight||d.chart.height||/px$/.test(m)&&parseInt(m,10)||400;u(d.chart,{animation:!1,renderTo:c,forExport:!0,renderer:"SVGRenderer",width:g,height:m});d.exporting.enabled=!1;delete d.data;d.series=[];k(b.series,function(a){l=p(a.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:a.visible});l.isInternal||d.series.push(l)});a&&k(["xAxis","yAxis"],function(b){k(I(a[b]),function(a,c){d[b][c]=p(d[b][c],a)})});e=new f.Chart(d,b.callback);k(["xAxis","yAxis"],function(a){k(b[a],function(b,c){var d=e[a][c],f=b.getExtremes(),g=f.userMin,f=f.userMax;d&&(void 0!==g||void 0!==f)&&d.setExtremes(g,f,!0,!1)})});g=e.getChartHTML();d=null;e.destroy();w(c);M&&(c=g.match(/<\/svg>(.*?$)/))&&(c='\x3cforeignObject x\x3d"0" y\x3d"0" width\x3d"200" height\x3d"200"\x3e\x3cbody xmlns\x3d"http://www.w3.org/1999/xhtml"\x3e'+c[1]+"\x3c/body\x3e\x3c/foreignObject\x3e",g=g.replace("\x3c/svg\x3e",c+"\x3c/svg\x3e"));g=this.sanitizeSVG(g);return g=g.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(a,b){var e=this.options.exporting;return this.getSVG(p({chart:{borderRadius:0}},e.chartOptions,b,{exporting:{sourceWidth:a&&a.sourceWidth||e.sourceWidth,sourceHeight:a&&a.sourceHeight||e.sourceHeight}}))},exportChart:function(a,b){var e=this.getSVGForExport(a,b);a=p(this.options.exporting,a);f.post(a.url,{filename:a.filename||"chart",type:a.type,width:a.width||0,scale:a.scale||2,svg:e},a.formAttributes)},print:function(){var a=this,b=a.container,e=[],c=b.parentNode,f=n.body,l=f.childNodes;a.isPrinting||(a.isPrinting=!0,a.pointer.reset(null,0),G(a,"beforePrint"),k(l,function(a,b){1===a.nodeType&&(e[b]=a.style.display,a.style.display="none")}),f.appendChild(b),v.focus(),v.print(),setTimeout(function(){c.appendChild(b);k(l,function(a,b){1===a.nodeType&&(a.style.display=e[b])});a.isPrinting=!1;G(a,"afterPrint")},1E3))},contextMenu:function(a,b,e,c,f,l,m){var d=this,g=d.options.navigation,p=g.menuItemStyle,r=d.chartWidth,t=d.chartHeight,H="cache-"+a,h=d[H],y=J(f,l),A,B,v,w=function(b){d.pointer.inClass(b.target,a)||B()};h||(d[H]=h=q("div",{className:a},{position:"absolute",zIndex:1E3,padding:y+"px"},d.container),A=q("div",null,u({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},g.menuStyle),h),B=function(){z(h,{display:"none"});m&&m.setState(0);d.openMenu=!1},x(h,"mouseleave",function(){v=setTimeout(B,500)}),x(h,"mouseenter",function(){clearTimeout(v)}),x(n,"mouseup",w),x(d,"destroy",function(){F(n,"mouseup",w)}),k(b,function(a){if(a){var b=a.separator?q("hr",null,null,A):q("div",{onmouseover:function(){z(this,g.menuItemHoverStyle)},onmouseout:function(){z(this,p)},onclick:function(b){b&&b.stopPropagation();B();a.onclick&&a.onclick.apply(d,arguments)},innerHTML:a.text||d.options.lang[a.textKey]},u({cursor:"pointer"},p),A);d.exportDivElements.push(b)}}),d.exportDivElements.push(A,h),d.exportMenuWidth=h.offsetWidth,d.exportMenuHeight=h.offsetHeight);b={display:"block"};e+d.exportMenuWidth>r?b.right=r-e-f-y+"px":b.left=e-y+"px";c+l+d.exportMenuHeight>t&&"top"!==m.alignOptions.verticalAlign?b.bottom=t-c-y+"px":b.top=c+l-y+"px";z(h,b);d.openMenu=!0},addButton:function(a){var b=this,e=b.renderer,c=p(b.options.navigation.buttonOptions,a),g=c.onclick,l=c.menuItems,m,d,n={stroke:c.symbolStroke,fill:c.symbolFill},k=c.symbolSize||12;b.btnCount||(b.btnCount=0);b.exportDivElements||(b.exportDivElements=[],b.exportSVGElements=[]);if(!1!==c.enabled){var r=c.theme,t=r.states,q=t&&t.hover,t=t&&t.select,h;delete r.states;g?h=function(a){a.stopPropagation();g.call(b,a)}:l&&(h=function(){b.contextMenu(d.menuClassName,l,d.translateX,d.translateY,d.width,d.height,d);d.setState(2)});c.text&&c.symbol?r.paddingLeft=f.pick(r.paddingLeft,25):c.text||u(r,{width:c.width,height:c.height,padding:0});d=e.button(c.text,0,0,h,r,q,t).attr({title:b.options.lang[c._titleKey],"stroke-linecap":"round",zIndex:3});d.menuClassName=a.menuClassName||"highcharts-menu-"+b.btnCount++;c.symbol&&(m=e.symbol(c.symbol,c.symbolX-k/2,c.symbolY-k/2,k,k).attr(u(n,{"stroke-width":c.symbolStrokeWidth||1,zIndex:1})).add(d));d.add().align(u(c,{width:d.width,x:f.pick(c.x,D)}),!0,"spacingBox");D+=(d.width+c.buttonSpacing)*("right"===c.align?-1:1);b.exportSVGElements.push(d,m)}},destroyExport:function(a){a=a.target;var b,e;for(b=0;b<a.exportSVGElements.length;b++)if(e=a.exportSVGElements[b])e.onclick=e.ontouchstart=null,a.exportSVGElements[b]=e.destroy();for(b=0;b<a.exportDivElements.length;b++)e=a.exportDivElements[b],F(e,"mouseleave"),a.exportDivElements[b]=e.onmouseout=e.onmouseover=e.ontouchstart=e.onclick=null,w(e)}});L.menu=function(a,b,e,c){return["M",a,b+2.5,"L",a+e,b+2.5,"M",a,b+c/2+.5,"L",a+e,b+c/2+.5,"M",a,b+c-1.5,"L",a+e,b+c-1.5]};E.prototype.callbacks.push(function(a){var b,e=a.options.exporting,c=e.buttons;D=0;if(!1!==e.enabled){for(b in c)a.addButton(c[b]);x(a,"destroy",a.destroyExport)}})});